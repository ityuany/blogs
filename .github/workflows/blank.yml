name: MainWorkflow

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - uses: actions/setup-node@v1
      with:
        node-version: "12.x"
    - name: Build Blog
      run: |
        npm install
        npm install -g hexo-cli
        hexo generate
    - name: FTP Deploy
      uses: SamKirkland/FTP-Deploy-Action@3.0.0
      with:
      # Deployment destination server & path. Formatted as protocol://domain.com:port/full/destination/path/
        ftp-server: protocol://onecoc.com:22/project/b
          # FTP account username
        ftp-username: root
          # FTP account password
        ftp-password: HEIBAIyuanyu142647
          # The local folder to copy, defaults to root project folder
        local-dir: public
